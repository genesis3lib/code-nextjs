# Docker Compose for Local Development
# Generated by Genesis3 - code-nextjs module

services:
  frontend:
    build:
      context: ./{{{frontendModule.moduleId}}}
      dockerfile: Dockerfile.dev
    container_name: {{{projectName}}}-frontend
    ports:
      - "3000:3000"
    volumes:
      - ./{{{frontendModule.moduleId}}}:/app
      - frontend_node_modules:/app/node_modules
    environment:
{{#hasBackendDrf}}
      - NEXT_PUBLIC_API_BASE=http://localhost:8000
{{/hasBackendDrf}}
{{#hasBackendSpring}}
      - NEXT_PUBLIC_API_BASE=http://localhost:8080
{{/hasBackendSpring}}
{{#hasBackend}}
    depends_on:
      - backend
{{/hasBackend}}
    command: npm run dev

volumes:
  frontend_node_modules:
